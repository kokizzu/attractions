const e=/\d+/g,t=/%[HMSpPdmyY%]/g;function r(r,n,a){const l=Math.floor((new Date).getFullYear()/100);let s=!1;if(""===r)return null;const u=n.split(t);let o=0,g=0;const c=new Date(0);for(const t of u){if(!r.startsWith(t,o))return a;if(o+=t.length,o===r.length){if(g!==n.length)return a;break}if("%"!==n[g+t.length])break;if(g+=t.length+1,"%"===n[g]){if("%"!==r[o])return a;o++}else if("p"===n[g].toLowerCase()){const e=r.substr(o,2).toUpperCase();if("AM"===e)s=!1,c.getHours()>=12&&c.setHours(c.getHours()-12);else{if("PM"!==e)return a;s=!0,c.getHours()<12&&c.setHours(c.getHours()+12)}}else{e.lastIndex=o;const t=e.exec(r);if(null==t)return a;switch(n[g]){case"H":c.setHours(parseInt(t[0])+12*s);break;case"M":c.setMinutes(t[0]);break;case"S":c.setSeconds(t[0]);break;case"d":c.setDate(t[0]);break;case"m":c.setMonth(t[0]-1);break;case"y":c.setFullYear(100*l+parseInt(t[0]));break;case"Y":c.setFullYear(t[0])}o+=t[0].length}g++}return isNaN(c.valueOf())?a:c}function n(e,t){if(null==e)return null;let r=e.getHours();return/%p/i.test(t)&&(r%=12,0===r&&(r=12)),t.replace("%Y",e.getFullYear()).replace("%y",(e.getFullYear()%100).toString().padStart(2,"0")).replace("%m",(e.getMonth()+1).toString().padStart(2,"0")).replace("%d",e.getDate().toString().padStart(2,"0")).replace("%H",r.toString().padStart(2,"0")).replace("%M",e.getMinutes().toString().padStart(2,"0")).replace("%S",e.getSeconds().toString().padStart(2,"0")).replace("%p",e.getHours()<12?"am":"pm").replace("%P",e.getHours()<12?"AM":"PM").replace("%%","%")}function a(e,t){const r=new Intl.DateTimeFormat(e,{weekday:"short"}),n=new Date(1970,0,1),a=[];for(let e=0;e<7;++e)n.setDate(5+t-1+e),a.push(r.format(n));return a}function l(e,t){return null!=e&&null!=t&&(e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate())}function s(e,t){return null!=e&&null!=t&&new Date(e.getFullYear(),e.getMonth(),e.getDate())<=new Date(t.getFullYear(),t.getMonth(),t.getDate())}function u(e,t,r){const n=[],a=new Date(t,e,1);a.setDate(1-(7+a.getDay()-r)%7);do{const t=[];for(let r=0;r<7;++r)t.push({value:new Date(a.valueOf()),outside:a.getMonth()!==e}),a.setDate(a.getDate()+1);n.push(t)}while(a.getMonth()===e);return n}function o(e,t){return null==e||null==t?e:(t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t)}function g(e,t){return null==e||null==t?e:(t.setHours(e.getHours(),e.getMinutes(),e.getSeconds()),t)}function c(e){return null==e?null:new Date(e.valueOf())}export{o as a,s as b,c,l as d,a as e,n as f,u as g,g as h,r as p};
